services:
  - type: web
    name: cryptator-api
    runtime: java
    # Build from the repo root so Maven builds 'cryptator' (core lib) first,
    # then 'cryptator-api' which depends on it.
    rootDir: .
    buildCommand: mvn clean package -DskipTests
    startCommand: java -jar cryptator-api/target/cryptator-api-1.0.1-SNAPSHOT.jar
    plan: free
    envVars:
      - key: PORT
        value: 10000
      - key: JAVA_OPTS
        value: -Xmx400m -Xms200m
